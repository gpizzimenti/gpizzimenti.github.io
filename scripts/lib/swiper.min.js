import{hasTouch}from"./utils.min.js";export const setSwiper=function(e){const t=e.element;if(!t)return!1;hasTouch()?(t.addEventListener("touchstart",(e=>{t.dataset.startx=e.changedTouches[0].screenX,t.dataset.starty=e.changedTouches[0].screenY}),{passive:!0}),t.addEventListener("touchend",(n=>{t.dataset.endx=n.changedTouches[0].screenX,t.dataset.endy=n.changedTouches[0].screenY;const i=a(t);s(i,e,n)}),{passive:!0})):(t.addEventListener("dragstart",(e=>{e.dataTransfer.setDragImage(t,-99999,-99999),t.dataset.startx=e.clientX,t.dataset.starty=e.clientY}),{passive:!0}),t.addEventListener("dragover",(e=>{t.dataset.endx=e.clientX,t.dataset.endy=e.clientY}),{passive:!0}),t.addEventListener("dragend",(n=>{const i=a(t);s(i,e,n)}),{passive:!0}));const a=function(e){const t=window.innerWidth||document.body.clientWidth,a=Math.max(1,Math.floor(.01*t)),s=Number.parseInt(e.dataset.startx,10),n=Number.parseInt(e.dataset.endx,10),i=Number.parseInt(e.dataset.starty,10),d=n-s,p=Number.parseInt(e.dataset.endy,10)-i,r=Math.abs(d/p),o=Math.abs(p/d),c=Math.tan(.375*Math.PI),h={swipeLeft:!1,swipeRight:!1,swipeUp:!1,swipeDown:!1,tap:!1};return Math.abs(d)>a||Math.abs(p)>a?(o<=c&&(d<0?h.swipeLeft=!0:h.swipeRight=!0),r<=c&&(p<0?h.swipeUp=!0:h.swipeDown=!0)):h.tap=!0,h},s=function(e,t,a){e.swipeLeft&&t.onSwipeLeft&&t.onSwipeLeft(a),e.swipeRight&&t.onSwipeRight&&t.onSwipeRight(a),e.swipeUp&&t.onSwipeUp&&t.onSwipeUp(a),e.swipeDown&&t.onSwipeDown&&t.onSwipeDown(a),e.tap&&t.onTap&&t.onTap(a)}};