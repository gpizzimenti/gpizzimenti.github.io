export function setDraggable(e,t){let r=null;const a=()=>{e.querySelectorAll(".dragged-over-top").forEach((e=>e.classList.remove("dragged-over-top"))),e.querySelectorAll(".dragged-over-bottom").forEach((e=>e.classList.remove("dragged-over-bottom"))),e.querySelectorAll(".dragging").forEach((e=>e.classList.remove("dragging")))};e.addEventListener("dragstart",(e=>{if(r=e.target.classList.contains("drag-item")?e.target:e.target.closest(".drag-item"),!r)return!1;e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",r.innerHTML),r.classList.add("dragging")})),e.addEventListener("dragover",(t=>{t.preventDefault();const a=t.target.classList.contains("drag-item")?t.target:t.target.closest(".drag-item");if(a&&r&&a!==r&&a.classList.contains("drag-item")){t.dataTransfer.dropEffect="move";const r=a.getBoundingClientRect(),o=r.y+r.height/2;e.querySelectorAll(".dragged-over-top").forEach((e=>e.classList.remove("dragged-over-top"))),e.querySelectorAll(".dragged-over-bottom").forEach((e=>e.classList.remove("dragged-over-bottom"))),t.clientY-o>0?a.classList.add("dragged-over-bottom"):a.classList.add("dragged-over-top")}})),e.addEventListener("drop",(o=>{o.preventDefault();const s=o.target.classList.contains("drag-item")?o.target:o.target.closest(".drag-item")?o.target.closest(".drag-item"):Array.from(e.querySelectorAll(".drag-item")).pop();s&&r&&s!==r&&s.classList.contains("drag-item")&&(o.clientY>s.getBoundingClientRect().top+s.offsetHeight/2?s.parentNode.insertBefore(r,s.nextSibling):s.parentNode.insertBefore(r,s)),a(),r=null,t&&t(e)})),e.addEventListener("mouseout",a),e.classList.add("draggable-list")}