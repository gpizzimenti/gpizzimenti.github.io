!function(){if("onscrollend"in window)return;const e=new WeakMap,t=EventTarget.prototype.addEventListener,n=EventTarget.prototype.removeEventListener,s=new WeakMap;EventTarget.prototype.addEventListener=function(n,l,i){if("scrollend"===n){s.has(this)||s.set(this,new Map);const n=s.get(this);if(!n.has(l)){const s=function(t){e.has(this)&&clearTimeout(e.get(this));const n=setTimeout((()=>{const e=new Event("scrollend",{bubbles:!1!==i?.bubbles,cancelable:!1});Object.defineProperty(e,"target",{value:this,enumerable:!0}),this.dispatchEvent(e)}),100);e.set(this,n)};n.set(l,s),t.call(this,"scroll",s,i)}t.call(this,"scrollend",l,i)}else t.call(this,n,l,i)},EventTarget.prototype.removeEventListener=function(t,l,i){if("scrollend"===t){const t=s.get(this);if(t&&t.has(l)){const o=t.get(l);n.call(this,"scroll",o,i),t.delete(l),0===t.size&&s.delete(this),e.has(this)&&(clearTimeout(e.get(this)),e.delete(this))}n.call(this,"scrollend",l,i)}else n.call(this,t,l,i)},Object.defineProperty(window,"onscrollend",{get:function(){return this._onscrollend||null},set:function(e){this._onscrollend&&this.removeEventListener("scrollend",this._onscrollend),this._onscrollend=e,e&&this.addEventListener("scrollend",e)},enumerable:!0,configurable:!0})}();